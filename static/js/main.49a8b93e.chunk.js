(this["webpackJsonpstaff-list-ux-react-query"]=this["webpackJsonpstaff-list-ux-react-query"]||[]).push([[0],{180:function(e,t,n){},181:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(30),o=n.n(a),i=n(22),s=(n(148),n(12)),c=n(7),u=n.n(c),l=n(13),d=["all","kanto","johto","hoenn","sinnoh","unova","kalos","alola","galar"],f=function(e){var t=e;return null===(null===t||void 0===t?void 0:t.next)||"string"===typeof(null===t||void 0===t?void 0:t.next)&&null===(null===t||void 0===t?void 0:t.previous)||"string"===typeof(null===t||void 0===t?void 0:t.previous)&&!(null===t||void 0===t?void 0:t.results.some((function(e){return!function(e){var t=e;return"string"===typeof(null===t||void 0===t?void 0:t.name)&&"string"===typeof(null===t||void 0===t?void 0:t.url)}(e)})))},p=function(e){var t=e;return"number"===typeof(null===t||void 0===t?void 0:t.id)&&"string"===typeof(null===t||void 0===t?void 0:t.name)&&"string"===typeof(null===t||void 0===t?void 0:t.species.name)&&"string"===typeof(null===t||void 0===t?void 0:t.species.url)&&!(null===t||void 0===t?void 0:t.types.some((function(e){return!function(e){var t=e;return"number"===typeof(null===t||void 0===t?void 0:t.slot)&&"string"===typeof(null===t||void 0===t?void 0:t.type.name)&&"string"===typeof(null===t||void 0===t?void 0:t.type.url)}(e)})))&&"string"===typeof(null===t||void 0===t?void 0:t.sprites.frontDefault)&&"string"===typeof(null===t||void 0===t?void 0:t.sprites.other.officialArtwork.frontDefault)},v=function(e){var t=e;return"string"===typeof(null===t||void 0===t?void 0:t.name)&&"string"===typeof(null===t||void 0===t?void 0:t.url)},j=function(e){var t=e;return"string"===typeof(null===t||void 0===t?void 0:t.name)&&v(null===t||void 0===t?void 0:t.language)},b=function(e){var t=e;return!(null===t||void 0===t?void 0:t.flavorTextEntries.some((function(e){return!function(e){var t=e;return"string"===typeof(null===t||void 0===t?void 0:t.flavorText)&&v(null===t||void 0===t?void 0:t.language)}(e)})))&&!(null===t||void 0===t?void 0:t.genera.some((function(e){return!function(e){var t=e;return"string"===typeof(null===t||void 0===t?void 0:t.genus)&&v(null===t||void 0===t?void 0:t.language)}(e)})))&&!(null===t||void 0===t?void 0:t.names.some((function(e){return!j(e)})))},h=function(e){var t=e;return"string"===typeof(null===t||void 0===t?void 0:t.name)&&!(null===t||void 0===t?void 0:t.names.some((function(e){return!j(e)})))},m=n(37),x=n(121),g=n.n(x),O={timeout:7e3,retry:2,hooks:{afterResponse:[function(){var e=Object(l.a)(u.a.mark((function e(t,n,r){var a,o,i,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Blob,e.t1=JSON,e.t2=g.a,e.next=5,r.json();case 5:return e.t3=e.sent,e.t4={deep:!0},e.t5=(0,e.t2)(e.t3,e.t4),e.t6=e.t1.stringify.call(e.t1,e.t5,null,2),e.t7=[e.t6],e.t8={type:"application/json"},a=new e.t0(e.t7,e.t8),o=r.headers,i=r.status,s=r.statusText,c={headers:o,status:i,statusText:s},e.abrupt("return",new Response(a,c));case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()]}},y=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.a)(Object(s.a)({},O),n),e.next=3,m.a.get(t,r);case 3:return a=e.sent,e.next=6,a.json();case 6:if(o=e.sent,f(o)){e.next=9;break}throw Error("API type error");case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.a)(Object(s.a)({},O),n),e.next=3,m.a.get(t,r);case 3:return a=e.sent,e.next=6,a.json();case 6:if(o=e.sent,p(o)){e.next=9;break}throw Error("API type error");case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.a)(Object(s.a)({},O),n),e.next=3,m.a.get(t,r);case 3:return a=e.sent,e.next=6,a.json();case 6:if(o=e.sent,b(o)){e.next=9;break}throw Error("API type error");case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(s.a)(Object(s.a)({},O),n),e.next=3,m.a.get(t,r);case 3:return a=e.sent,e.next=6,a.json();case 6:if(o=e.sent,h(o)){e.next=9;break}throw Error("API type error");case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=n(45),N=n(0),D=n(207),T=n(206),A=n(122),Q=n.n(A),C=n(60),S=n(67),F=n(72),I=n(210),L={0:"\u30b5\u30fc\u30d0\u30a8\u30e9\u30fc\u3067\u3059"},z=function(e){Object(S.a)(n,e);var t=Object(F.a)(n);function n(e){var a;return Object(C.a)(this,n),(a=t.call(this,e)).componentDidCatch=function(e,t){var n=a.props.onError;n&&n(),console.error(e,t)},a.render=function(){var e=a.props,t=e.children,n=e.statusMessages,o=void 0===n?{}:n,i=a.state,c=i.hasError,u=i.error,l=Object(s.a)(Object(s.a)({},L),o);if(c){var d,f=null===u||void 0===u||null===(d=u.response)||void 0===d?void 0:d.status;return f&&Object.keys(l).includes(String(f))?Object(r.jsx)(I.a,{warning:!0,children:l[f]}):Object(r.jsx)(I.a,{error:!0,children:l[0]})}return t},a.state={hasError:!1,error:null},a}return n}(N.PureComponent);z.getDerivedStateFromError=function(e){return{hasError:!0,error:e}};var M=z,R=n(205),H=(n(180),function(e){var t=e.size,n=void 0===t?"medium":t;return Object(r.jsx)("div",{className:"spinner",children:Object(r.jsx)(R.a,{size:n,inline:"centered",active:!0,children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."})})}),q=n(209),J=n(208),B=(n(181),function(e){var t,n,a,o,i,s=e.pokemon,c=e.species,u=e.types;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(q.a,{className:"card-container",children:[Object(r.jsxs)("div",{className:"card-header",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(q.a.Meta,{textAlign:"left",children:s.id}),Object(r.jsx)(J.a,{size:"mini",src:s.sprites.frontDefault})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(q.a.Header,{textAlign:"center",children:null===(t=c.names.find((function(e){return"ja"===e.language.name})))||void 0===t?void 0:t.name}),Object(r.jsx)(q.a.Header,{textAlign:"center",children:s.name})]}),Object(r.jsx)("div",{className:"card-header__type",children:u.map((function(e){return e.names.map((function(e){return"ja-Hrkt"===e.language.name&&Object(r.jsx)(q.a.Header,{textAlign:"right",children:e.name},e.name)}))}))})]}),Object(r.jsx)("div",{className:"card-image",children:Object(r.jsx)(J.a,{size:"large",src:s.sprites.other.officialArtwork.frontDefault,rounded:!0})}),Object(r.jsxs)("div",{className:"card-genera",children:[Object(r.jsx)(q.a.Description,{children:null===(n=c.genera.find((function(e){return"ja"===e.language.name})))||void 0===n?void 0:n.genus}),Object(r.jsx)(q.a.Description,{children:null===(a=c.genera.find((function(e){return"en"===e.language.name})))||void 0===a?void 0:a.genus})]}),Object(r.jsxs)("div",{className:"card-description",children:[Object(r.jsx)(q.a.Description,{children:null===(o=c.flavorTextEntries.find((function(e){return"ja"===e.language.name})))||void 0===o?void 0:o.flavorText}),Object(r.jsx)(q.a.Description,{children:null===(i=c.flavorTextEntries.find((function(e){return"en"===e.language.name})))||void 0===i?void 0:i.flavorText})]})]},s.id)})}),_=function(e){var t=e.url,n=Object(i.useQuery)([t,"pokemon"],(function(){return k(t)}),{enabled:!!t}).data;if(!n)throw Error("getPokemon error");var a=Object(i.useQuery)([n.species.name,"species"],(function(){return w(n.species.url)}),{enabled:!!n.species.url}).data;if(!a)throw Error("getSpecies error");var o=Object(i.useQuery)([n.types[0].type.name,"type"],(function(){return E(n.types[0].type.url)}),{enabled:!!n.types[0]}).data;if(!o)throw Error("getType error");var s=Object(i.useQuery)([n.types.length>=2?n.types[1].type.name:n.types[0].type.name,"type"],(function(){return E(n.types.length>=2?n.types[1].type.url:n.types[0].type.url)}),{enabled:n.types.length>=2}).data;if(!s)throw Error("getType error");var c=n.types.length>=2?[o,s]:[o];return Object(r.jsx)(B,{pokemon:n,species:a,types:c})},G=(n(185),function(e){var t=e.result;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(q.a.Group,{className:"cards-container",children:t.results.map((function(e){return Object(r.jsx)(_,{url:e.url},e.name)}))})})}),K=function(e){var t=e.url,n=Object(i.useInfiniteQuery)("pokemons-".concat(t),function(){var e=Object(l.a)(u.a.mark((function e(n){var r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pageParam,a=void 0===r?t:r,e.next=3,y(a);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{getNextPageParam:function(e){return e.next},enabled:!0}),a=n.data,o=n.fetchNextPage,s=n.hasNextPage,c=n.isFetchingNextPage;if(!a)throw Error("getPokemonsResult error");return Object(r.jsxs)(r.Fragment,{children:[a.pages.map((function(e){return Object(r.jsx)(G,{result:e},e.next)})),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:function(){return o()},disabled:!s||c,children:c?"Loading more...":s?"Load More":"Nothing more to load"})})]})},U=(n(186),"https://pokeapi.co/api/v2/pokemon?"),V={all:"".concat(U,"limit=24&offset=0"),kanto:"".concat(U,"limit=24&offset=0"),johto:"".concat(U,"limit=24&offset=151"),hoenn:"".concat(U,"limit=24&offset=251"),sinnoh:"".concat(U,"limit=24&offset=386"),unova:"".concat(U,"limit=24&offset=493"),kalos:"".concat(U,"limit=24&offset=649"),alola:"".concat(U,"limit=24&offset=721"),galar:"".concat(U,"limit=24&offset=809")},W=function(e){var t=e.regionList,n=e.prefetch,a=void 0===n?function(){}:n,o=Object(N.useState)("all"),i=Object(P.a)(o,2),s=i[0],c=i[1],u=Object(N.useTransition)(),l=Object(P.a)(u,2),d=l[0],f=l[1],p=Object(N.useRef)(0),v=t.map((function(e){return{key:e,name:Q()(e),onClick:function(){s?f((function(){return c(e)})):c(e)},onMouseOver:function(){return a(V[e])},active:e===s}}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("header",{className:"app-header",children:Object(r.jsx)("h1",{children:"PokeDex"})}),Object(r.jsx)(D.a,{items:v,text:!0}),Object(r.jsx)(T.a,{}),Object(r.jsx)("div",{className:d?"loading":"",children:Object(r.jsx)(M,{statusMessages:{404:"".concat(s,"\u3068\u3044\u3046\u30ea\u30fc\u30b8\u30e7\u30f3\u304c\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093")},onError:function(){p.current+=1},children:Object(r.jsx)(N.SuspenseList,{children:Object(r.jsx)(N.Suspense,{fallback:Object(r.jsx)(H,{size:"large"}),children:Object(r.jsx)(K,{url:s?V[s]:V.all})})})},p.current)})]})},X=function(e){var t=e.enablePrefetch,n=void 0!==t&&t,a=Object(i.useQueryClient)(),o=n?{regionList:d,prefetch:function(e){(function(){var t=Object(l.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.prefetchQuery([e,"pokemons"],(function(){return y(e)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}})()()}}:{regionList:d};return Object(r.jsx)(W,Object(s.a)({},o))},Y=(n(187),function(){return Object(r.jsx)(X,{enablePrefetch:!0})}),Z=(n(188),n(189),new i.QueryClient({defaultOptions:{queries:{retry:0,suspense:!0},mutations:{retry:0}}})),$=document.getElementById("root");o.a.createRoot($).render(Object(r.jsxs)(i.QueryClientProvider,{client:Z,children:[Object(r.jsx)(Y,{}),!1]}))}},[[190,1,2]]]);
//# sourceMappingURL=main.49a8b93e.chunk.js.map